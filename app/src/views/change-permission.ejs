<%- include('includes/head') %>

    <body class="bg-gray-100 text-gray-800 font-sans">
        <header class="bg-blue-600 text-white p-4">
            <h1 class="text-center text-3xl font-semibold">Controle de Permissões</h1>
        </header>

        <div style="display: flex; flex-direction: row; align-items: flex-start; width: 100%; margin: 20px;">
            <button onclick="window.location.href='/gestaoUsuario'"
                style="color: white; width: 10%; cursor: pointer; display: flex; flex-direction: row; align-items: center; justify-content: center ;gap: 5px; background-color: #2563eb; padding: 2px; border-radius: 10px;">
                <ion-icon style="font-size: large;" name="arrow-back-circle"></ion-icon>
                <div>Voltar</div>
            </button><br>
        </div>

        <div class="max-w-4xl mx-auto p-6">
            <div class="text-center my-8"
                style="display: flex; flex-direction: column; align-items: center;justify-content: center; gap: 20px;">
                <img src="/<%= data.user.imageId %>" alt="Imagem do usuários" style="width:100px">
                <h1 class="text-3xl font-bold">
                    Nome: <%= data.user.name %>
                </h1>
                <h1 class="text-3xl font-bold">
                    Email: <%= data.user.email %>
                </h1>
            </div>

            <div class="text-center my-8" style="width: 25%;margin: auto;">
                <h1 class="text-3xl font-bold" style="margin-bottom: 20px;">
                    Permissões
                </h1>
                <form action="/gestaoUsuario/changePermission/<%= data.user.id %>" method="post"
                    style="display: flex; gap:3px; flex-direction: column;">
                    <div class="mb-4 rounded"
                        style="display: flex; flex-direction: row; align-items: center; gap: 10px; background-color: #e3ecff; padding: 5px;">
                        <% if(data.permissions.includes(2) || data.permissions.includes(1)){%>
                            <input type="checkbox" id="permissions" name="permissions" value="2" checked>
                            <% } %>
                                <% if(!data.permissions.includes(2) && !data.permissions.includes(1)){%>
                                    <input type="checkbox" id="permissions" name="permissions" value="2">
                                    <% } %>
                                        <label style="font-size: medium;">Módulo Financeiro</label>
                    </div>
                    <div class="mb-4 rounded"
                        style="display: flex; flex-direction: row; align-items: center; gap: 10px; background-color: #e3ecff;  padding: 5px;">
                        <% if(data.permissions.includes(3) || data.permissions.includes(1)){%>
                            <input type="checkbox" id="permissions" name="permissions" value="3" checked>
                            <% } %>
                                <% if(!data.permissions.includes(3) && !data.permissions.includes(1)){%>
                                    <input type="checkbox" id="permissions" name="permissions" value="3">
                                    <% } %>
                                        <label style="font-size: medium;">Módulo de Relatórios</label>
                    </div>
                    <div class="mb-4 rounded"
                        style="display: flex; flex-direction: row; align-items: center; gap: 10px; background-color: #e3ecff;  padding: 5px;">
                        <% if(data.permissions.includes(4) || data.permissions.includes(1)){%>
                            <input type="checkbox" id="permissions" name="permissions" value="4" checked>
                            <% } %>
                                <% if(!data.permissions.includes(4) && !data.permissions.includes(1)){%>
                                    <input type="checkbox" id="permissions" name="permissions" value="4">
                                    <% } %>
                                        <label style="font-size: medium;">Módulo de Produto</label>
                    </div>
                    <button type="submit"
                        style="color: white; padding: 5px; text-align: center; background-color: #2563eb; margin: 10px; border-radius: 10px;">Enviar</button>
                </form>
            </div>

        </div>
    </body>

    </html>